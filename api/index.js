// pages/api/index.js
import fetch from "node-fetch";

const PROXY = "/api?url=";

export default async function handler(req, res) {
  const { url } = req.query;

  // Homepage
  if (!url) {
    return res.send(`<!DOCTYPE html>
<html>
<head>
  <title>WGs+</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { margin:0; font-family:sans-serif; background:#000; color:#fff; text-align:center; }
    #icon-row { display:flex; justify-content:center; flex-wrap:wrap; gap:30px; margin-top:30px; }
    .icon-item { width:64px; height:64px; cursor:pointer; transition: transform .2s; }
    .icon-item img { width:100%; height:100%; object-fit:contain; }
    .icon-item:hover { transform:scale(1.1); }
    input { padding:10px; width:300px; border-radius:20px; border:none; margin-top:100px; background:#111; color:#fff; }
    button { padding:10px 20px; margin-left:10px; border-radius:20px; border:none; background:#3b82f6; color:#fff; cursor:pointer; }
  </style>
</head>
<body>
  <h1>WGs+</h1>
  <div>
    <input id="urlInput" placeholder="Enter URL">
    <button onclick="go()">Go</button>
  </div>
  <div id="icon-row">
    <a class="icon-item" href="${PROXY}https://luminal.arrowbases.com/40810x.html"><img src="data:image/png;base64,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" alt="Roblox"></a>
    <a class="icon-item" href="${PROXY}https://www.examplemovie.com"><img src="data:image/png;base64,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" alt="Movie"></a>
    <a class="icon-item" href="${PROXY}https://linear-maroon-lpc9bycpg2.edgeone.app/"><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD84QzQ5OjcBCgoKDQwNGg8PGjclHyU3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3N//AABEIAIsA4QMBIgACEQEDEQH/xAAcAAEBAQACAwEAAAAAAAAAAAAABwYEBQIDCAH/xABFEAABAwMCAQcGCgcJAQAAAAAAAQIDBAURBgcSEyEiMUFRYQgUF3GBkTJSVJKTlKGx0tMVVWOiwdHhIyQzQkOChcLiFv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCGgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPdSUtRW1MdNRwSTzyLhkUTFc5y9yInOpQbZsprCugSWWOios86MqZ+l7mI7AE4BVPQPqv5bZ/p5Pyx6B9V/LbP9PJ+WBKwVT0D6r+W2f6eT8segfVfy2z/AE8n5YErBS67Y/V9LA6SJbdVuRP8OCoVHL89rU+0n1yt1baqySjuVLLTVMa9KKVitVP6eIHFAAAAAAAAAAAAAAAAAAAAAAAAAAAA1m1Vobe9e2mllYr4WS8vKnZhiK7n8FVET2gWbQenLVtpo+TUN+ajLhJCj6h7kRXRovwYWeOcZ718EQxNTuprrVFymg0lRrBHGivSGmpknkRmUTLlcip1r2InWc/yjr2+S4WuwRuVIo2edSonUrnKrW+5Ed843G3u2NPoi7VFwhuktWs1OsKsfCjMdJrs5yvxQI5cNztxbbWSUdfdZaepiVEfFLRQtc3KZ504O5UOP6XNdfr1fqkH4CjbrbY09Ut91at0lbKkPL+bJCip0GImOLPh3EBA3Hpb11+vV+qQfgHpb11+vV+qQfgM/pCS2Raotcl8Yjrc2pYtQjky3hz2p2p3p3ZLZvjctLVWio2QVNBUV6yMWh82e1zmtynEvR6m8OfDOAMFZ96dX0VS19dUQXGHPSimgYxVTwViJhff6iqXegsm7+ikrbejWV8aKkD3fDp5UTKxuX4q83vRSQrtJqlNNfpzkqbg5Hl/NeUXl+DGc8OMZxz4znwzzHbeT3fX0GrpbS9/93uMK4b+0YiuRfm8ae4CYVMEtLUS09Qx0c0T1ZIx3W1yLhUX2nrKFvraG2vX9RLE3EdfCypRETmRy5a77WqvtJ6AAAAAAAAAAAAAAAAAAAAAAAAAKp5OcKSa2q5Vx/ZW56p61exP5krKr5OUvBrWtjXHTtz8etJI/wCoHSb21D59yrqjl5oUijZ4JybV+9VOx2o1+2xX2qqdUXW4TUr6VY42ve+ZEfxNXqz3IvOdZvXC6Hcu78SLh/JPaveixM/jkw4Gx3E1dNfNUXOe1XOuW1VCtRkKyvaxW8DUVODOOtFMcVHa3ap+qYUu17fNTWtVxCyPmfUKnWqKvU3sz29neb923W1zHK19RTI5q4VFuioqL84D5vB9IJt5tavMlRSr/wAr/wCjH7mbQx2e3yXnS75Z6SJvHPSvXjcxvx2r2t70XnTrz3B+LvnWLpdbf+im/pJYOQ875bofBxx8GOvwzj7jCbcVLqTXtglb1rXxR+x7kav2OM2aLbqndU68sEbetK+F/sa5HL9wFJ8peFraywTY6T452KvgisX/ALKRQtvlMSItTp+LPO1lQ5fasf8AIiQAAAAAAAAAAAAAAAAAAAAAAAAA2uzt0batw7U+R6MiqHOpn57eNFRv73CYo8o5HxSNkic5j2KjmuauFaqdSooFe8o+0Pgv9uu7WryVVTrC5UTmR7Fzzr4o5PmqdDtZtvU6trWVtwjfDZInZe9eitQqf5GeHevZ6yh2TdjSF9sNPFrSKJlZCqK+KajWeN70THGzDVxnPbjGVTn616nWu9sK0jrfo6nfHlvB57KxG8Cfs2fxXGO4Dm7za/jstH/8ppt7IpuTRlTJDzJTx4wkbcdSqnX3J4rzQM85ZHzSPlle58j3K5z3LlXKvWqqeAAtOyG4iU7o9L32fMD14aGaRfgKv+kq9y9nd1dqYiwAq2722MtjqZr1YKdX2l+XzQxplaVe3m+J93V1YOFsHaH3DXcdarV5G3Qvlc7HNxOTgan7yr/tO50BvTLbaWK26qimrIWJwsrI+lKidz0X4Xrzn1mtq91tCWW31dVp2KOSum6SwQUboeVf2K9ytRMJ386gTvygLo2u135rG/LaCmZC5OxHrl6/Y5vuJocm5V1Rc7hU19Y/jqKmR0sju9yrlTjAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//2Q==" alt="WGS+ Games"></a>
  </div>

  <script>
    function go() {
      const input = document.getElementById('urlInput').value;
      if(input) location.href='${PROXY}'+encodeURIComponent(input);
    }
  </script>
</body>
</html>`);
  }

  // Proxy fetch
  try {
    const response = await fetch(url);
    const body = await response.text();
    res.send(body);
  } catch (e) {
    res.status(500).send('Error fetching URL');
  }
}
